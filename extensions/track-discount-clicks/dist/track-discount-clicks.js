(()=>{var c=(t,n,o)=>new Promise((r,e)=>{var l=s=>{try{i(o.next(s))}catch(a){e(a)}},f=s=>{try{i(o.throw(s))}catch(a){e(a)}},i=s=>s.done?r(s.value):Promise.resolve(s.value).then(l,f);i((o=o.apply(t,n)).next())});var d="WebPixel::Render";var p=t=>shopify.extend(d,t);function m(t){return c(this,null,function*(){let n="https://prisma-node-express.vercel.app/api/v1/trackings",o={eventName:t};try{let r=yield fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!r.ok)throw new Error(`Track HTTP error! status: ${r.status}`);let e=yield r.json();console.log("Track Success:",e)}catch(r){console.error("Track Error:",r)}})}p(({analytics:t,browser:n,init:o,settings:r})=>{t.subscribe("all_events",e=>{e.type==="dom"&&e.data.element.id==="summary_apply_discount"&&(console.log("fired",e),m("discount_applied"))})});})();
